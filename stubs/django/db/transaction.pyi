# Stubs for django.db.transaction (Python 3.5)
#
# NOTE: This dynamically typed stub was automatically generated by stubgen.

from typing import Any, Optional
from django.db import ProgrammingError
from django.utils.decorators import ContextDecorator

class TransactionManagementError(ProgrammingError): ...

def get_connection(using: Optional[Any] = ...): ...
def get_autocommit(using: Optional[Any] = ...): ...
def set_autocommit(autocommit, using: Optional[Any] = ...): ...
def commit(using: Optional[Any] = ...): ...
def rollback(using: Optional[Any] = ...): ...
def savepoint(using: Optional[Any] = ...): ...
def savepoint_rollback(sid, using: Optional[Any] = ...): ...
def savepoint_commit(sid, using: Optional[Any] = ...): ...
def clean_savepoints(using: Optional[Any] = ...): ...
def get_rollback(using: Optional[Any] = ...): ...
def set_rollback(rollback, using: Optional[Any] = ...): ...
def on_commit(func, using: Optional[Any] = ...): ...

class Atomic(ContextDecorator):
    using = ...  # type: Any
    savepoint = ...  # type: Any
    def __init__(self, using, savepoint) -> None: ...
    def __enter__(self): ...
    def __exit__(self, exc_type, exc_value, traceback): ...

def atomic(using: Optional[Any] = ..., savepoint: bool = ...): ...
def non_atomic_requests(using: Optional[Any] = ...): ...
